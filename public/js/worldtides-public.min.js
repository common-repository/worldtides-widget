function worldtides_formatHour(e,t){var i="";return t?(i=e.toString()).length<2&&(i="0"+i):i=0==e?"12am":e<12?" "+e.toString()+"am":12==e?"12pm":e<24?" "+(e-12).toString()+"pm":"12am",i}function worldtides_secondsToTime(e,t,i){var o="",l=Math.floor(e/60);1==(e=(e=Math.floor(e-60*l)).toString()).length&&(e="0"+e);var d=Math.floor(l/60),r=(l-60*d).toString();return 1==r.length&&(r="0"+r),t?0==d?d=12:d>12&&(d-=12):1==d.length&&(d="0"+d),o+=d+":"+r+":"+e,t&&(o+=i),o}function worldtides_updateTideTable(e,t){for(var i="",o=0,l="",d=0;d<worldtides_globals[e].extremes.length;d++){var r=worldtides_globals[e].extremes[d];if(0!=o||r.date==t){if(r.date!=l){if(++o>worldtides_globals[e].days)break;i+="<tr><th colspan='3'>"+(l=r.date)+"</th></tr>"}var a=Math.round(5*(r.height-worldtides_globals[e].minTide)/(worldtides_globals[e].maxTide-worldtides_globals[e].minTide));a=Math.min(a,5),i+="<tr><td>"+("<span class='worldtides worldtides-tide-"+(a=Math.max(0,a))+"'></span>")+" "+r.type+"</td><td>"+r.time+"</td><td>"+r.height.toFixed(1)+worldtides_globals[e].unitSymbol+"</td></tr>"}}document.getElementById("worldtides-tide-forecast-"+e).innerHTML=i}!function(e){"use strict";jQuery(document).ready(function(e){})}();var worldtides_time_blinker=!1;function worldtides_blink_colon(e,t,i,o,l,d){return(worldtides_time_blinker=!worldtides_time_blinker)?t+":"+i:t+" "+i}function worldtides_getTideInfo(e){var t=Date.now()/1e3;worldtides_globals[e].overrideDate&&(t=new Date(worldtides_globals[e].overrideDate)/1e3);for(var i=0,o=1;o<worldtides_globals[e].heights.length;o++){if(t<=worldtides_globals[e].heights[o].timestamp){i=o;break}}var l="",d="",r="";if(i>=1&&i<worldtides_globals[e].heights.length){var a=worldtides_globals[e].heights[i-1],s=worldtides_globals[e].heights[i];r=a.date;var n=a.height,g=s.height,h=a.timestamp,m=(t-h)/(s.timestamp-h)*(g-n)+n,w=Math.round(5*(m-worldtides_globals[e].minTide)/(worldtides_globals[e].maxTide-worldtides_globals[e].minTide));w=Math.min(w,5);var f="worldtides-tide-"+(w=Math.max(0,w)).toString();l=m.toFixed(1)+worldtides_globals[e].unitSymbol;var _=a.clockTime,b=worldtides_secondsToTime(_,"ampm"==worldtides_globals[e].timemode,a.ampm);d=a.dayOfWeek+" "+a.month+" "+a.day+", "+b+" "+a.timezone}return{seconds:_,height:m,icon:f,heightText:l,dateText:d=d.replace(/([\d]+):([\d]+):([\d]+)/,worldtides_blink_colon),targetDate:r}}function worldtides_updateTideInfo(e,t,i,o){var l="<div style='font-size:52px; line-height:52px'><span class='worldtides "+t+"'>"+i+"</div>";l+="<div style='font-size:24px'>"+o+"</div>",document.getElementById("worldtides-height-and-time-"+e).innerHTML=l}function worldtides_drawPlot(e,t,i){var o=document.getElementById("worldtides-plot-"+e),l=(document.getElementById("worldtides-plot-container-"+e),window.devicePixelRatio||1),d=o.getBoundingClientRect();o.width=d.width*l,o.height=d.height*l;var r=o.getContext("2d");r.scale(l,l),r.font="14px Arial";var a=d.width-60,s=d.height-60,n=worldtides_globals[e].minTide,g=worldtides_globals[e].maxTide;n=Math.floor(n),(g=Math.ceil(g))==n&&(g+=1);var h=s/(g-n),m=g-n,w=Math.ceil(m/6);if(r.fillStyle="white",r.fillRect(0,0,d.width,d.height),worldtides_globals[e].finegrid){r.beginPath(),r.lineWidth=1,r.strokeStyle="#F0F0F0";for(var f=0;f<=24;f++){var _=30+f*a/24;r.moveTo(_,s+30),r.lineTo(_,30)}r.stroke(),r.beginPath(),r.lineWidth=1,r.strokeStyle="#F0F0F0";for(var b=0;b<=m;b++){var T=s+30-b*h;_=30;r.moveTo(30,T),r.lineTo(30+a,T)}T=s+30-(g-n)*h;r.moveTo(30,T),r.lineTo(30+a,T),r.stroke()}r.beginPath(),r.fillStyle="rgba(98, 153, 235, 1)",r.lingWidth=0,r.moveTo(30,s+30);for(b=0;b<worldtides_globals[e].heights.length;b++){var c=worldtides_globals[e].heights[b],v=c.height,u=c.clockTime;r.lineTo(30+u*a/86400,s+30-(v-n)*h)}r.lineTo(30+a,s+30),r.closePath(),r.fill(),r.beginPath(),r.lineWidth=1,r.strokeStyle="rgba(128,128,128,0.3)";for(f=0;f<=24;f+=4){_=30+f*a/24;r.moveTo(_,s+30),r.lineTo(_,30)}r.stroke(),r.beginPath(),r.lineWidth=1,r.strokeStyle="rgba(128,128,128,0.3)";for(b=0;b<=m;b+=w){T=s+30-b*h,_=30;r.moveTo(30,T),r.lineTo(30+a,T)}T=s+30-(g-n)*h;r.moveTo(30,T),r.lineTo(30+a,T),r.stroke(),r.textAlign="right",r.fillStyle="rgba(140, 140, 140)";for(b=0;b<=m;b+=w){var p=(v=n+b).toString()+worldtides_globals[e].unitSymbol;T=s+30-b*h+3,_=27;r.fillText(p,_,T)}r.textAlign="center";for(T=s+30,f=0;f<=24;f+=4){_=30+f*a/24,p=worldtides_formatHour(f%24,"ampm"!=worldtides_globals[e].timemode);r.fillText(p,_,T+20)}if(void 0!==t&&void 0!==i){_=30+t*a/86400,T=s+30-(i-n)*h;r.beginPath(),r.arc(_,T,5,0,2*Math.PI,!1),r.fillStyle=worldtides_globals[e].dotcolor,r.fill()}}function worldtides_refresh(e){var t=worldtides_getTideInfo(e);worldtides_updateTideInfo(e,t.icon,t.heightText,t.dateText),worldtides_updateTideTable(e,t.targetDate),"none"!=worldtides_globals[e].graphmode&&worldtides_drawPlot(e,t.seconds,t.height)}